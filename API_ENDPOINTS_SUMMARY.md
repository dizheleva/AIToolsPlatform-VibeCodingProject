# API Endpoints –∑–∞ AI Tools - –ó–ê–í–™–†–®–ï–ù–û ‚úÖ

## –°—ä–∑–¥–∞–¥–µ–Ω–∏ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏:

### 1. AiToolController (`backend/app/Http/Controllers/AiToolController.php`)
- ‚úÖ `index()` - –°–ø–∏—Å—ä–∫ —Å AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ (—Å —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ, —Ç—ä—Ä—Å–µ–Ω–µ, —Å–æ—Ä—Ç–∏—Ä–∞–Ω–µ, pagination)
- ‚úÖ `store()` - –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –Ω–æ–≤ AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (—Å database transaction)
- ‚úÖ `show()` - –î–µ—Ç–∞–π–ª–∏ –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω–æ view counting)
- ‚úÖ `update()` - –†–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (—Å database transaction)
- ‚úÖ `destroy()` - –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (soft delete)
- ‚úÖ `toggleLike()` - –î–æ–±–∞–≤—è–Ω–µ/–ø—Ä–µ–º–∞—Ö–≤–∞–Ω–µ –Ω–∞ like (—Å race condition –∑–∞—â–∏—Ç–∞)

**–§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –≤ index():**
- `status` - —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ —Å—Ç–∞—Ç—É—Å (active, inactive, pending_review)
- `category_id` - —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- `role` - —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ —Ä–æ–ª—è
- `featured` - —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ featured
- `search` - —Ç—ä—Ä—Å–µ–Ω–µ –≤ name, description, short_description
- `sort_by` - —Å–æ—Ä—Ç–∏—Ä–∞–Ω–µ (–≤–∞–ª–∏–¥–∏—Ä–∞–Ω–æ —Å—Ä–µ—â—É whitelist: created_at, name, views_count, likes_count, updated_at)
- `sort_order` - –ø–æ—Å–æ–∫–∞ –Ω–∞ —Å–æ—Ä—Ç–∏—Ä–∞–Ω–µ (asc, desc)
- `per_page` - –±—Ä–æ–π —Ä–µ–∑—É–ª—Ç–∞—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–≤–∞–ª–∏–¥–∏—Ä–∞–Ω–æ: 1-100)

**–ü–æ–¥–æ–±—Ä–µ–Ω–∏—è:**
- ‚úÖ SQL injection –∑–∞—â–∏—Ç–∞ - `sort_by` –≤–∞–ª–∏–¥–∏—Ä–∞–Ω —Å—Ä–µ—â—É whitelist
- ‚úÖ Database transactions –≤ `store()` –∏ `update()` –∑–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç
- ‚úÖ Race condition –∑–∞—â–∏—Ç–∞ –≤ `toggleLike()` —Å `lockForUpdate()`
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω–æ view counting - –¥–∏—Ä–µ–∫—Ç–Ω–æ DB increment
- ‚úÖ –ü–æ–¥–æ–±—Ä–µ–Ω–æ cache —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –∏–∑—á–∏—Å—Ç–≤–∞–Ω–µ —Å–∞–º–æ –Ω–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏ –∫–ª—é—á–æ–≤–µ
- ‚úÖ Null –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–∞–Ω–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ `per_page` (–º–∏–Ω–∏–º—É–º 1, –º–∞–∫—Å–∏–º—É–º 100)

**–ü—Ä–∞–≤–∞:**
- –í—Å–∏—á–∫–∏ –º–æ–≥–∞—Ç –¥–∞ —á–µ—Ç–∞—Ç (index, show)
- –°–∞–º–æ –æ–¥–æ–±—Ä–µ–Ω–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –º–æ–≥–∞—Ç –¥–∞ —Å—ä–∑–¥–∞–≤–∞—Ç
- –°–∞–º–æ owner –∏–ª–∏ creator –º–æ–≥–∞—Ç –¥–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–∞—Ç/–∏–∑—Ç—Ä–∏–≤–∞—Ç
- –°–∞–º–æ owner –º–æ–∂–µ –¥–∞ –ø—Ä–æ–º–µ–Ω—è status –∏ featured

### 2. CategoryController (`backend/app/Http/Controllers/CategoryController.php`)
- ‚úÖ `index()` - –°–ø–∏—Å—ä–∫ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (—Å —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ)
- ‚úÖ `store()` - –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –Ω–æ–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- ‚úÖ `show()` - –î–µ—Ç–∞–π–ª–∏ –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- ‚úÖ `update()` - –†–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- ‚úÖ `destroy()` - –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è

**–§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –≤ index():**
- `active` - —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç
- `parent_id` - —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ —Ä–æ–¥–∏—Ç–µ–ª (–∏–ª–∏ 'null' –∑–∞ root –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
- `with_counts` - –≤–∫–ª—é—á–≤–∞–Ω–µ –Ω–∞ –±—Ä–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

**–ü—Ä–∞–≤–∞:**
- –í—Å–∏—á–∫–∏ –º–æ–≥–∞—Ç –¥–∞ —á–µ—Ç–∞—Ç (index, show)
- –°–∞–º–æ owner –º–æ–∂–µ –¥–∞ —Å—ä–∑–¥–∞–≤–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–∞/–∏–∑—Ç—Ä–∏–≤–∞

## API Routes:

### Public Routes (–±–µ–∑ –∞–≤—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è):
```
GET  /api/tools              - –°–ø–∏—Å—ä–∫ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏
GET  /api/tools/{slug}       - –î–µ—Ç–∞–π–ª–∏ –∑–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
GET  /api/categories         - –°–ø–∏—Å—ä–∫ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
GET  /api/categories/{slug}  - –î–µ—Ç–∞–π–ª–∏ –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è
```

### Protected Routes (–∏–∑–∏—Å–∫–≤–∞—Ç –∞–≤—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è):
```
POST   /api/tools                    - –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
PUT    /api/tools/{slug}             - –†–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
DELETE /api/tools/{slug}             - –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
POST   /api/tools/{slug}/like        - Like/Unlike –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

POST   /api/categories               - –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è
PUT    /api/categories/{slug}        - –†–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è
DELETE /api/categories/{slug}        - –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è
```

## Route Model Binding:

- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω –∑–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ `slug` –≤–º–µ—Å—Ç–æ `id`
- ‚úÖ –ü–æ–¥–¥—ä—Ä–∂–∞ –∏ `slug` –∏ `id` –∑–∞ –æ–±—Ä–∞—Ç–Ω–∞ —Å—ä–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç
- ‚úÖ –†–∞–±–æ—Ç–∏ –∑–∞ `aiTool` –∏ `category` –ø–∞—Ä–∞–º–µ—Ç—Ä–∏

## –ü—Ä–∏–º–µ—Ä–Ω–∏ –∑–∞—è–≤–∫–∏:

### GET /api/tools
```json
{
  "success": true,
  "data": [...],
  "pagination": {
    "current_page": 1,
    "last_page": 5,
    "per_page": 15,
    "total": 67
  }
}
```

### GET /api/tools?category_id=1&role=backend&search=code
–§–∏–ª—Ç—Ä–∏—Ä–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è, —Ä–æ–ª—è –∏ —Ç—ä—Ä—Å–µ–Ω–µ.

### POST /api/tools
```json
{
  "name": "New AI Tool",
  "description": "Tool description",
  "url": "https://example.com",
  "pricing_model": "free",
  "category_ids": [1, 2],
  "roles": ["backend", "frontend"],
  "tags": ["code", "ai"]
}
```

### POST /api/tools/github-copilot/like
Toggle like –∑–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç

### –í–∞–ª–∏–¥–∞—Ü–∏—è
- –í—Å–∏—á–∫–∏ –≤—Ö–æ–¥–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Å–∞ –≤–∞–ª–∏–¥–∏—Ä–∞–Ω–∏
- `sort_by` –≤–∞–ª–∏–¥–∏—Ä–∞–Ω —Å—Ä–µ—â—É whitelist –æ—Ç –ø–æ–∑–≤–æ–ª–µ–Ω–∏ –∫–æ–ª–æ–Ω–∏
- `per_page` –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –º–µ–∂–¥—É 1 –∏ 100
- `sort_order` –≤–∞–ª–∏–¥–∏—Ä–∞–Ω (asc/desc)

### Database –æ–ø–µ—Ä–∞—Ü–∏–∏
- Transactions –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏ –≤ –∫—Ä–∏—Ç–∏—á–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏
- Race conditions –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–µ–Ω–∏ —Å `lockForUpdate()`
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω–∏ –∑–∞—è–≤–∫–∏ —Å eager loading
- –î–∏—Ä–µ–∫—Ç–Ω–∏ DB –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫—ä–¥–µ—Ç–æ –µ –≤—ä–∑–º–æ–∂–Ω–æ

### Cache —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –ò–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ç–Ω–æ –∏–∑—á–∏—Å—Ç–≤–∞–Ω–µ –Ω–∞ cache (–Ω–µ flush –≤—Å–∏—á–∫–æ)
- Cache –∫–ª—é—á–æ–≤–µ –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ filter –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±–Ω–æ–≤—è–≤–∞–Ω–µ –ø—Ä–∏ –ø—Ä–æ–º–µ–Ω–∏

## –ü—Ä–∏–º–µ—Ä–Ω–∏ –∑–∞—è–≤–∫–∏:

### GET /api/tools?category_id=1&role=backend&search=code&sort_by=views_count&sort_order=desc&per_page=20
–§–∏–ª—Ç—Ä–∏—Ä–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è, —Ä–æ–ª—è, —Ç—ä—Ä—Å–µ–Ω–µ, —Å–æ—Ä—Ç–∏—Ä–∞ –ø–æ views_count –≤ –Ω–∏–∑—Ö–æ–¥—è—â —Ä–µ–¥, 20 —Ä–µ–∑—É–ª—Ç–∞—Ç–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞.

## –¢–µ—Å—Ç–≤–∞–Ω–µ:

–ó–∞ –¥–∞ —Ç–µ—Å—Ç–≤–∞—à API endpoints:
1. –ò–∑–ø—ä–ª–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏–∏—Ç–µ: `docker compose exec php_fpm php artisan migrate`
2. Seed –¥–∞–Ω–Ω–∏: `docker compose exec php_fpm php artisan db:seed`
3. –¢–µ—Å—Ç–≤–∞–π endpoints —Å Postman –∏–ª–∏ curl

## –ì–æ—Ç–æ–≤–æ –∑–∞ production —É–ø–æ—Ç—Ä–µ–±–∞! üöÄ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–∏—á–∫–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∏ —Å–∞ –ø–æ–ø—Ä–∞–≤–µ–Ω–∏, –∫–æ–¥—ä—Ç –µ –≥–æ—Ç–æ–≤ –∑–∞ production.

